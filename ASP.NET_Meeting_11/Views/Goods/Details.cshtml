@using NET_Meeting_11.Models
@model ASP.NET_Meeting_11.Models.Good

@{
    int count = 0;
}

<div class="detailsContainer">
    <div id="carouselExampleIndicators" class="carousel slide" data-bs-ride="carousel">
        <div class="carousel-indicators">
            @for (int i = 0; i < Model.Photos.Count; i++)
            {
                if (i == 0)
                {
                    <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="@i" class="active" aria-current="true" aria-label="Slide @i + 1"></button>
                }
                else
                {
                    <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="@i" class="active" aria-label="Slide @i + 1"></button>
                }
            }
        </div>
        <div id="carousel-inner" class="carousel-inner">
            @if (Model.Photos.Count > 0)
            {
                foreach (Photo item in Model.Photos)
                {
                    if (count == 0)
                    {
                        <div class="carousel-item active">
                            <img src="data:@item.ContentType;base64,@Convert.ToBase64String(item.PhotoData)" class="d-block w-100" alt="@item.FileName">
                        </div>
                    }
                    else
                    {
                        <div class="carousel-item">
                            <img src="data:@item.ContentType;base64,@Convert.ToBase64String(item.PhotoData)" class="d-block w-100" alt="@item.FileName">
                        </div>
                    }
                    count++;
                }
            }
            else
            {
                <div class="carousel-item active" style="height: inherit;">
                    <div class="cardImage" style="background-color: aliceblue; display: flex; justify-content: center; align-items: center; height: inherit;">
                        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="#0d6efd" class="bi bi-question-lg" viewBox="0 0 16 16">
                            <path d="M3 4.075a.423.423 0 0 0 .43.44H4.9c.247 0 .442-.2.475-.445.159-1.17.962-2.022 2.393-2.022 1.222 0 2.342.611 2.342 2.082 0 1.132-.668 1.652-1.72 2.444-1.2.872-2.15 1.89-2.082 3.542l.005.386c.003.244.202.44.446.44h1.445c.247 0 .446-.2.446-.446v-.188c0-1.278.487-1.652 1.8-2.647 1.086-.826 2.217-1.743 2.217-3.667C12.667 1.301 10.393 0 7.903 0 5.645 0 3.17 1.053 3.001 4.075zm2.776 10.273c0 .95.758 1.652 1.8 1.652 1.085 0 1.832-.702 1.832-1.652 0-.985-.747-1.675-1.833-1.675-1.04 0-1.799.69-1.799 1.675z" />
                        </svg>
                    </div>
                </div>
            }

        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
        </button>
    </div>

    <div class="goodDescription">
        <div class="title">
            @Html.DisplayFor(model => model.Title)
        </div>
        <div class="category">
            @Html.DisplayFor(model => model.Category.CategoryName)
        </div>
        <div class="price">
            @Html.DisplayFor(model => model.Price) грн
        </div>
        <div class="buttons">
            @Html.ActionLink("Редактировать", "Edit", new { id = Model.Id }, new { @class = "btn btn-primary" })
            @Html.ActionLink("Удалить", "Delete", new { id = Model.Id }, new { @class = "btn btn-danger" })
        </div>
    </div>
</div>